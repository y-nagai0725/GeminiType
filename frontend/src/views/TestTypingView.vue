<template>
  <div class="test-view">
    <h1 class="test-view__title">TypingCore (v11) é€£ç¶šï¼†è¨ˆæ¸¬ãƒ†ã‚¹ãƒˆ</h1>

    <TypingCore
      v-if="dummyProblems.length > 0"
      :problems="dummyProblems"
      :showDebug="true"
      @complete="handleComplete"
    />

    <p v-else>èª­ã¿è¾¼ã¿ä¸­...</p>
  </div>
</template>

<script setup>
import { ref, onMounted } from "vue";
import TypingCore from "../components/TypingCore.vue";

const dummyProblems = ref([]);

// (â˜…) çµæœã‚’å—ã‘å–ã‚‹ã€Œé­”æ³•ã€
const handleComplete = (results) => {
  console.log("ğŸ‰ å…¨å•çµ‚äº†ï¼çµæœãŒå±Šã„ãŸã‚ˆï¼", results);
  //alert("å…¨å•çµ‚äº†ï¼ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’è¦‹ã¦ã­â™¡");
};

onMounted(() => {
  // (â˜…) ãƒ†ã‚¹ãƒˆç”¨ã«ã€Œè¤‡æ•°ã€ã®å•é¡Œã‚’ç”¨æ„ï¼
  setTimeout(() => {
    dummyProblems.value = [
      { problem_text: "ãƒ†ã‚¹ãƒˆ" },
      { problem_text: "æœ­å¹Œå¸‚" },
      { problem_text: "ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°" },
    ];
  }, 1000);
});
</script>

<style lang="scss" scoped>
.test-view {
  width: 100%;
  max-width: 800px;
  margin: 2rem auto;
  padding: 2rem;
  font-family: sans-serif;
  border: 4px solid #28a745; /* v11ã ã‹ã‚‰ç·‘æ ã«ã—ã¨ãã­â™¡ */

  &__title {
    color: #28a745;
    margin-bottom: 1rem;
  }
}
</style>